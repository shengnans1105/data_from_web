{
    "collab_server" : "",
    "contents" : "---\ntitle: \"Reading Data\"\nauthor: \"Shengnan Sun\"\ndate: \"2017-10-23\"\noutput: html_document\n---\n\n```{r setup, include=FALSE}\nknitr::opts_chunk$set(echo = TRUE)\n```\n\n```{r load package}\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(httr)\n```\n\n## Scraping\n\n### NSDUH Table\n\n```{r get the webset}\nurl = \"http://samhda.s3-us-gov-west-1.amazonaws.com/s3fs-public/field-uploads/2k15StateFiles/NSDUHsaeShortTermCHG2015.htm\"\n\ndrug_use_xml = read_html(url)\n```\n\n```{r get all tables}\ndrug_use_xml %>%\n  html_nodes(css = \"table\") # extract everything with mode table\n```\n\n```{r get the table we want}\ntable_marj = (drug_use_xml %>% html_nodes(css = \"table\"))[[1]] %>% #[[1]] first object of the first list\n  html_table() %>% # convert to useful formate\n  .[-1,] %>%# remove the first row\n  as_tibble()\n```\n\n### NY living cost table\n\n```{r practice}\nny_living_cost = read_html(\"https://www.bestplaces.net/cost_of_living/city/new_york/new_york\")\nny_living_cost %>%\n  html_nodes(css = \"table\")\nliving_cost = (ny_living_cost %>% html_nodes(css = \"table\"))[[2]] %>%\n  html_table(header = TRUE) %>%\n  as_tibble() \n```\n\n## HP_SS cast\n\nWant the names!\n```{r}\nhpss_html = read_html(\"http://www.imdb.com/title/tt0241527/\")\n\nhpss_cast = hpss_html %>%\n  html_nodes(css = \".itemprop .itemprop\") %>%\n  html_text()\n```\n\n",
    "created" : 1508779598870.000,
    "dirty" : true,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "600361149",
    "id" : "7242CB05",
    "lastKnownWriteTime" : 1508781405,
    "last_content_update" : 1508781708237,
    "path" : "~/Desktop/DSI/data_from_web/Reading_data.Rmd",
    "project_path" : "Reading_data.Rmd",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "relative_order" : 1,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_markdown"
}